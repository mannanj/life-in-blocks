<!-- @TODO: Button to show dates on top of blocks or not. By default, none.
    Active block does have the selected style though. -->
<div id="x-container">
    <div class="x-axis">
        <div class="line"></div>
        <div class="arrow">
            &#8250;      
        </div>
        <div class="label">Week</div>
    </div>
</div>
<div id="y-container">
    <div class="y-axis">
        <div class="line"></div>
        <div class="arrow">
            &#8250;      
        </div>
        <div class="label">Year</div>
    </div>
</div>
<div id="blocks" *ngIf="getObjectKeys(weeksByYear)">
    <div 
        *ngFor="let year of getObjectKeys(weeksByYear)"
        class="row">
        <span class="label" [ngClass]="{'gold-underlined' : thisYear && thisYear === strToNum(year)}">{{ year }}</span>
        <app-block
            *ngFor="let week of weeksByYear[strToNum(year)]"
            [zoomLevel]="zoomLevel"
            [year]="strToNum(year)"
            [_week]="week">
        </app-block>
    </div>
</div>
<div id="loading" *ngIf="!getObjectKeys(weeksByYear)">
    {{ 'Data loading...' }}
</div>
<div id="chart-controls">
    <div class="control"
        (click)="zoomOut()"
        [ngClass]="{'disabled': zoomLevel <= 0.5 || isLoading}">
        <svg width="17" height="17">
            <image attr.xlink:href="{{ 'assets/icons/zoom-out.svg' }}" width="17" height="17"/>
        </svg>
    </div>
    <div class="control center"
        (click)="zoomIn()"
        [ngClass]="{'disabled': zoomLevel >= 6.5 || isLoading}">
        <svg width="17" height="17">
            <image attr.xlink:href="{{ 'assets/icons/zoom-in.svg' }}" width="17" height="17"/>
        </svg>
    </div>
    <div class="control"
        (click)="zoomReset()"
        [ngClass]="{'disabled': isLoading}">
        <svg width="17" height="17">
            <image attr.xlink:href="{{ 'assets/icons/undo.svg' }}" width="17" height="17"/>
        </svg>
    </div>
</div>